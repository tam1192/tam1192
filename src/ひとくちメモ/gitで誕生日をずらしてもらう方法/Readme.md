# git ã§èª•ç”Ÿæ—¥ã‚’ãšã‚‰ã—ã¦ã‚‚ã‚‰ã†æ–¹æ³•

ã‚¯ãƒªã‚¹ãƒã‚¹ã«èª•ç”Ÿæ—¥ãŒè¢«ã‚‹ã¨ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆãŒä¸€ã¤ã«ãªã‚‹ãã†ã§ã™ã€‚

# ğŸµ æœ¬æ—¥ã®ä¸€æ›²

<iframe width="312" height="176" src="https://ext.nicovideo.jp/thumb/sm42573036" scrolling="no" style="border:solid 1px #ccc;" frameborder="0"><a href="https://www.nicovideo.jp/watch/sm42573036">ãƒ¯ãƒ³ãƒ«ãƒ¼ãƒ ãƒ»ãƒ¦ãƒ‹ãƒãƒ¼ã‚¹ / è¶³ç«‹ãƒ¬ã‚¤</a></iframe>

éŸ³ç„¡ã‚ãµã•ã‚“ã¨è¶³ç«‹ã•ã‚“ãŒã‚ˆã‚Šä¸€å±¤å¥½ãã«ãªã£ãŸä¸€æ›²  
ã‹ã‚ã„ã„

# ã‚„ã‚ŠãŸã„ã“ã¨

ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒ main ã¨ã€ä½œæ¥­ä¸­ãƒ–ãƒ©ãƒ³ãƒ work ãŒã‚ã‚Šã€work ã«ã¦ãƒ•ã‚¡ã‚¤ãƒ« A,B ã‚’æ–°è¦ä½œæˆã—ã¦ã„ã‚‹çŠ¶æ…‹ã¨ä»®å®šã™ã‚‹ã€‚  
work ã‚’ main ã« marge ã™ã‚‹æ™‚ã€ãƒ•ã‚¡ã‚¤ãƒ« B ã®å†…å®¹ãŒãƒ–ãƒ©ãƒ³ãƒã®è¶£æ—¨ã¨ã‚ã¾ã‚Šã«ã‚‚å·®ãŒé–‹ã„ã¦ã„ã‚‹ãŸã‚ã€æ–°ãŸãªãƒ–ãƒ©ãƒ³ãƒ work2 ã¨ã—ã€marge ã™ã‚‹ã“ã¨ã«ã—ãŸã€‚

```mermaid
gitGraph
    commit id:"first-commit"
    branch work
    checkout work
    commit id:"change file a and b"
```

> [!TIP]
> ã“ã®å›³ã‚’å…ƒã«èª¬æ˜ã—ã¾ã™ã€‚  
> èª¬æ˜ã®ãŸã‚ã€ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚³ãƒŸãƒƒãƒˆ id ã®ä»£ã‚ã‚Šã¨ã—ã¦åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚

> [!WARNING]
> ã“ã®è¨˜äº‹ã§ã¯ã€~~æ—¥è¨˜ã•ã‚“åŸºæœ¬ã¼ã£ã¡ã ã‹ã‚‰~~ç©æ¥µçš„ã«`git push -f`ã‚’ã—ã¾ã™ã€‚  
> ã—ã‹ã—ã€æœ¬æ¥ã“ã‚Œã¯æ³¨æ„ã™ã¹ãã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚ ã‚‚ã—å…±åŒä½œæ¥­ã‚’ã—ã¦ã„ã‚‹å ´åˆã¯ãƒ¡ãƒ³ãƒãƒ¼ã¨èª¿æ•´ã—ãªãŒã‚‰ã‚„ã‚‹ã¹ãã§ã™ã€‚

> [!WARNING]
> ã‚³ãƒ”ãƒšã¯ã‚„ã‚ãªã•ã„ã€‚ ã‚³ãƒ”ãƒšã™ã‚‹å‰æã§ã“ã®è¨˜äº‹ã¯æ›¸ã‹ã‚Œã¦ã„ã¾ã›ã‚“ã€‚  
> ã¡ãªã¿ã«ã‚¯ã‚½çœ ã„ä¸­æ›¸ã„ã¦ã„ã¾ã™ã€‚

# rebase&reset ã‚’ã™ã‚‹

`rebase -i <commit_id>` ã§ rebase ã‚’ã‹ã‘ã‚‹ã€‚

A,B ãŒåŒã˜ã‚³ãƒŸãƒƒãƒˆ`change file a and b` ã§ç·¨é›†ã•ã‚Œã¦ã„ãŸã€‚ ã“ã‚Œã‚’åˆ‡ã‚Šé›¢ã—ãŸã„ã€‚

```bash
rebase -i first-commit
```

## reset ã™ã‚‹

ã‚³ãƒŸãƒƒãƒˆãŒç¢ºå®šã•ã‚ŒãŸçŠ¶æ…‹ã«ãªã£ã¦ã‚‹ã®ã§ã€reset ã§ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°å‰ã«æˆ»ã™ã€‚
vscode ã® gui ä¸Šã§ä½œæ¥­ã—ã¦ã„ãŸãŒã€æ“ä½œã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã®ã»ã†ãŒå®‰å…¨ã ã¨æ€ã£ãŸã€‚

> [!TIP]
> resetã€rebase æ™‚ã«æŒ‡å®šã™ã‚‹ã‚³ãƒŸãƒƒãƒˆ id ã¯**ä¸€ã¤æ‰‹å‰ã®ã‚³ãƒŸãƒƒãƒˆã§**

## stash ã‚’æ´»ç”¨ã—ã¦ã¿ã‚‹

åˆã‚ã¦ä½¿ã£ã¦ã¿ãŸã€‚ `git stash pop`ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚‹ã“ã¨ã‹ã‚‰ã€ã‚¹ã‚¿ãƒƒã‚¯ã¿ãŸã„ãªå‹•ä½œã‚’ã—ã¦ã‚‹ã‚ˆã†ã«æ„Ÿã˜ãŸã€‚  
ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°(`git add .`)ã—ã¦ã€ã‚¹ã‚¿ãƒƒã‚·ãƒ¥(`git stash add`)ã¨ã™ã‚‹ã¨ã€ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã•ã‚Œã¦ã„ãŸå…¨ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒä¸€åº¦æ¶ˆãˆã‚‹ã€‚  
`git stash apply`ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æˆ»ã™ã“ã¨ãŒã§ãã‚‹ã€‚ã“ã®çŠ¶æ…‹ã§ãƒ•ã‚¡ã‚¤ãƒ« b ã‚’å‰Šé™¤ã—ã€é€šå¸¸é€šã‚Šã®æ‰‹é †ã§ã‚³ãƒŸãƒƒãƒˆã‚’è¡Œã†ã€‚  
ãã®å¾Œã€`git stash pop`ã§ãƒ•ã‚¡ã‚¤ãƒ« b ã‚’å¾©å…ƒã™ã‚‹ã€‚

> [!TIP] > `git stash add`ã®å¾Œã‚ã«**å¼•æ•°ã¯ä¸è¦**

> [!NOTE] > `pop`ã ã¨ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã‹ã‚‰**æ¶ˆãˆã¦ã—ã¾ã†**ãŒã€`apply`ã ã¨ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã«**æ®‹ã‚Šç¶šã‘ã‚‹**ã‚‰ã—ã„ã€‚

ã“ã®æ‰‹é †ã‚’å–ã£ãŸèƒŒæ™¯ã¨ã—ã¦ã€mdbook ã‚’ä½¿ã£ã¦ãŠã‚Šã€`SUMMARY.md`ã®å†…å®¹ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ã«åˆã‚ã›ã¦å¤‰æ›´ã‚’ã‹ã‘ãŸã‹ã£ãŸã‹ã‚‰ã€‚

> [!TIP]
> ã¤ã¾ã‚Šã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã™ã‚‹ã‚ˆã†ãªã“ã¨ã¯ãªãã€ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°æœ‰ç„¡ã§èª¿æ•´ã§ãã‚‹ãªã‚‰**stash ã¯ä¸è¦**

```mermaid
gitGraph
    commit id:"first-commit"
    branch work
    checkout work
    commit id:"change file a"
    commit id:"change file b"
```

# ãƒ–ãƒ©ãƒ³ãƒã‚’æ–°è¦ä½œæˆ

`main`ãƒ–ãƒ©ãƒ³ãƒã«ç§»å‹•ã—ã¦ã€
`git checkout -b work2` ã§ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆã—ã¾ã™ã€‚

> [!TIP]
> ã‚ã‚‹ã‚³ãƒŸãƒƒãƒˆã‹ã‚‰åˆ†å²ã—ãŸã„å ´åˆã¯`git checkout -b work2 <åˆ†å²ã™ã‚‹æ‰‹å‰ã®commit_id>`ã§å¯èƒ½ã§ã™ã€‚

```mermaid
gitGraph
    commit id:"first-commit"
    branch work
    checkout work
    commit id:"change file a"
    commit id:"change file b"
    branch work2
```

# cherry-pick ã—ã¦ã¿ã‚‹

`change file b`ã‚’`work2`ã«ç§»å‹•ã™ã‚‹ãŸã‚ã«ã€cherry-pick ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚  
`work2`ãƒ–ãƒ©ãƒ³ãƒã«ç§»å‹•ã—ã¦ã€`git cherry-pick change file b`ã§ã‚³ãƒŸãƒƒãƒˆã‚’æŒã£ã¦ã“ã‚Œã¾ã™ã€‚

```mermaid
gitGraph
    commit id:"first-commit"
    branch work
    checkout work
    commit id:"change file a"
    commit id:"change file b"
    checkout main
    branch work2
    checkout work2
    commit id:"change file b2"
```

# work ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ change file b ã‚³ãƒŸãƒƒãƒˆã‚’å‰Šé™¤ã™ã‚‹

`git reset --hard change file b`ã§ã‚³ãƒŸãƒƒãƒˆã‚’å‰Šé™¤ã—ã¾ã—ã‚‡ã†ã€‚

```mermaid
gitGraph
    commit id:"first-commit"
    branch work
    checkout work
    commit id:"change file a"
    checkout main
    branch work2
    checkout work2
    commit id:"change file b2"
```

# çµ‚ã‚ã‚Š

ãŠã‚ã‚Š
