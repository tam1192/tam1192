# ネットワークってたぶんこんなもん part1

IP の基礎的な部分です。 ちなみに資料はほとんど使い回し。

# 🎵 本日の一曲

<iframe width="312" height="176" src="https://ext.nicovideo.jp/thumb/sm45071876" scrolling="no" style="border:solid 1px #ccc;" frameborder="0"><a href="https://www.nicovideo.jp/watch/sm45071876">ボトルワヴ / 一筆かもめ feat. 音街ウナ SV</a></iframe>

ぎたーそろすきー

# ネットワークってなんだろう

死ぬほどいろんなもので例えて説明するせいで、真面目に説明したことない。

## 真面目に説明する

真面目じゃない説明はあと回し

ネットワークは、網状に作られたもの[^w_network]を指す。  
その一つにコンピューターネットワークがある。**これ以降ネットワークとは、コンピューターネットワークを指す**こととする。

ネットワーク技術は、複数のコンピューター間を接続する技術のことである。

コンピューターとは PC やスマートフォンはもちろんこと、**ルーターやスイッチ、テレビ、近年では洗濯機や冷蔵庫なども該当する**。  
ここでは、計算ができる、データ処理ができることに加え、**ネットワークに参加できる**機器をコンピュータ**もしくはノード**と呼ぶ。

### LAN

家庭内や会社内といった**単体組織内で用いられるネットワークを Local Area Network(LAN)**と呼ぶ。  
私有ネットワークでもあり、ほとんどの初学者は LAN を中心に触れ、学ぶことになる。

### WAN

LAN の対義語として機能する。 **異なる組織間をつなげたり、異なる国間をつなげる際に用いられるネットワークを Wide Area Network(WAN)**と呼ぶ。
ISP などと呼ばれる**回線事業者**が管理するネットワークである。

## IPv6

次世代の Internet Protocol。 これに置き換えようと色々頑張ってる。  
IPv4 の 4 倍の長さを持つアドレス(32bit -> 128bit)  
**アドレスが長く割り当てずらい欠点を克服するために、RA と DHCPv6 という仕組みが存在してる。**

## prefix と suffix

IPv6 アドレスは、IPv4 アドレスと同じく、ルーティングに使われる。  
このルーティングというのは、**アドレスの左から右にかけて、細かくなっていく**

似たようなものとして郵便番号がある。 郵便番号も、**左から右にかけて情報が細かくなる**

IP アドレスの最後に`/`で区切り、v4 なら 0-32、v6 なら 0-128 の間の数字をつける表記がある。  
これは、**先頭からの bit 数を示してる** この bit 数で、**アドレスの前半、後半を分けて考えることができる。**

> [!TIP]
> v4 はサブネットマスクという表記法もあるが、本質的に一緒なので省略。

例えば、  
1 つ目、`192.168.1.0/16`という表記の v4 アドレスがあるとすれば、

- `192.168`
- `1.0`

と分けることができる。  
2 つ目、`192.168.2.0/16`という表記の v4 アドレスがあるとすれば、

- `192.168`
- `2.0`

と分けることができる。  
3 つ目、`10.0.2.0/16`という表記の v4 アドレスがあるとすれば、

- `10.0`
- `2.0`

と分けることができる。

このうち、**左側**が一致していれば、**同じグループのネットワークに所属している**と見なすことができる。  
つまり、1 つ目と 2 つ目は同じネットワークに所属してる。
一方、**右側**が一致していても、**同じグループとはみなせない**  
つまり、1 つ目と 3 つ目はもちろん、**2 つ目と 3 つ目も同じグループではない**

今まで`/16`でやってきたけど、次に見慣れた`/24`に変える。 1 つ目と 2 つ目を比較しよう

| 表記          | 前半        | 後半 |
| ------------- | ----------- | ---- |
| `192.168.1.0` | `192.168.1` | `0`  |
| `192.168.2.0` | `192.168.2` | `0`  |

bit 数を増やすと、1 つ目と 2 つ目が別のグループになってしまった。  
言い方を変えると、もっと細かくみたということになる。大雑把、**外から見れば 1 つめも 2 つめも同じグループだったが、**  
詳細に、**内から見れば 1 つめと 2 つめは違うグループとなる**

実際のルーティングも、**外になるほど大雑把にルーティングし、内になるほど細かくルーティングする**

## RA

RA はルーター広告という機能で...
(詳細は追記します)

# 参考

## wikipedia

[^w_network]: [ネットワーク](https://ja.wikipedia.org/wiki/ネットワーク)
